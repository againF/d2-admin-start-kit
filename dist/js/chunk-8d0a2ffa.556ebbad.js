(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d0a2ffa"],{2502:function(e,t,s){"use strict";s("bd65")},"4ffd":function(e,t,s){e.exports=s.p+"img/logo.95127bdc.png"},"64af":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"loginApp"}},[a("div",{staticClass:"down-load-btn",on:{click:e.goToLogin}},[e._v("登录")]),a("div",{staticClass:"hight-pl"}),e.callback?e._e():a("div",{staticClass:"flex-vc"},[a("div",{staticClass:"main-area"},[e._m(0),a("div",{staticClass:"login-area"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],staticClass:"vc"},[a("div",{staticClass:"l-title"},[e._v("加入Mysitefy伙伴计划")]),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("div",{staticClass:"input-wrap"},[a("div",{staticClass:"input-label"},[e._v("姓名")]),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{staticClass:"cus-input",attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),a("div",{staticClass:"input-wrap"},[a("div",{staticClass:"input-label"},[e._v("企业名称")]),a("el-form-item",{attrs:{prop:"companyName"}},[a("el-input",{staticClass:"cus-input",attrs:{placeholder:"请输入企业名称",clearable:""},model:{value:e.ruleForm.companyName,callback:function(t){e.$set(e.ruleForm,"companyName",t)},expression:"ruleForm.companyName"}})],1)],1),a("div",{staticClass:"input-wrap"},[a("div",{staticClass:"input-label"},[e._v("企业简介")]),a("el-form-item",{attrs:{prop:"companyDes"}},[a("el-input",{staticClass:"cus-input",attrs:{placeholder:"请输入企业简介",type:"textarea",autosize:{minRows:1,maxRows:4},clearable:"",resize:"none"},model:{value:e.ruleForm.companyDes,callback:function(t){e.$set(e.ruleForm,"companyDes",t)},expression:"ruleForm.companyDes"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.companyDes,expression:"ruleForm.companyDes"}],staticClass:"el-icon-circle-close cus-close",on:{click:function(t){e.ruleForm.companyDes=""}}})],1)],1),a("div",{staticClass:"input-wrap"},[a("div",{staticClass:"input-label"},[e._v("企业网址（非必填）")]),a("el-form-item",{attrs:{prop:"website"}},[a("el-input",{staticClass:"cus-input",attrs:{placeholder:"请输入企业网址（非必填）",clearable:""},model:{value:e.ruleForm.website,callback:function(t){e.$set(e.ruleForm,"website",t)},expression:"ruleForm.website"}})],1)],1),a("div",{staticClass:"input-wrap"},[a("div",{staticClass:"input-label"},[e._v("手机号")]),a("el-form-item",{attrs:{prop:"phoneMsg"}},[a("el-input",{staticClass:"cus-input",attrs:{placeholder:"请输入手机号",clearable:""},model:{value:e.ruleForm.phoneMsg,callback:function(t){e.$set(e.ruleForm,"phoneMsg",t)},expression:"ruleForm.phoneMsg"}})],1)],1),a("div",{staticClass:"input-wrap"},[a("div",{staticClass:"input-label"},[e._v("验证码")]),a("el-form-item",{attrs:{prop:"codeMsg"}},[a("div",{staticClass:"flex-x"},[a("el-input",{staticClass:"cus-input flex-basis50",attrs:{placeholder:"请输入验证码",clearable:""},model:{value:e.ruleForm.codeMsg,callback:function(t){e.$set(e.ruleForm,"codeMsg",t)},expression:"ruleForm.codeMsg"}}),a("div",{staticClass:"get-code",class:e.isPhone&&e.isGetCodeState?"getCodeBtnActive":"",on:{click:e.handleGetCode}},[e._v(" "+e._s(e.codeText)+" ")])],1)])],1)]),a("div",{staticClass:"login-btn",class:e.disBtn,on:{click:function(t){return e.handleLogin("ruleForm")}}},[e._v(" 申请成为伙伴 ")])],1)])])]),e.callback?a("div",{staticClass:"success-callback"},[a("img",{staticClass:"callback-img",attrs:{src:s("4ffd"),alt:"logo"}}),a("div",{staticClass:"thank-text"},[e._v("感谢您加入Mysitefy伙伴")]),a("div",{staticClass:"time-text"},[e._v("我们将会在5个工作日内告诉您结果")])]):e._e(),a("div",{staticStyle:{height:"110px"}})])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-row"},[a("img",{staticClass:"logo-img",attrs:{src:s("4ffd"),alt:"logo"}})])}],i=s("ed3b"),r=(s("e186"),s("bb4d"),s("94c2"),s("8e46"),s("62ab")),n={name:"login",components:{},data:function(){var e=this,t=function(t,s,a){var o=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;o.test(s)?(e.isPhone=!0,a()):(e.isPhone=!1,a(new Error("请输入正确的手机号")))},s=function(t,s,a){Object(r["a"])({url:"/admin/checkName",method:"post",params:{name:e.ruleForm.companyName}},(function(e){!0===e.data?a(new Error("企业名称已存在")):a()}))};return{downloadShow:!1,ruleForm:{name:"",companyName:"",companyDes:"",website:"",phoneMsg:"",codeMsg:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:1,max:20,message:"不超过20个字符",trigger:"blur"}],companyName:[{required:!0,message:"请输入企业名称",trigger:"blur"},{min:1,max:40,message:"不超过40个字符",trigger:"blur"},{validator:s,trigger:"blur"}],companyDes:[{required:!0,message:"请输入企业简介",trigger:"blur"},{min:1,max:300,message:"不超过300个字符",trigger:"blur"}],phoneMsg:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:t,trigger:"blur"}],codeMsg:[{required:!0,message:"请输入验证码",trigger:"blur"}]},isPhone:!1,Countdown:60,isGetCodeState:!0,codeText:"获取验证码",timer:null,showCanLogin:!1,showLoginSuccess:!1,isLogin:!0,callback:!1}},computed:{disBtn:function(){return this.ruleForm.phoneMsg&&this.ruleForm.codeMsg?"":{"disable-btn":!0}}},mounted:function(){},methods:{goToLogin:function(){this.$router.push({name:"login"})},handleLogin:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(r["a"])({url:"/admin/add",method:"post",params:{username:t.ruleForm.name,name:t.ruleForm.companyName,desc:t.ruleForm.companyDes,url:t.ruleForm.website,mobile:t.ruleForm.phoneMsg,code:t.ruleForm.codeMsg,type:"register_code"}},(function(e){t.callback=!0}))}))},toggleDownload:function(){this.downloadShow=!this.downloadShow},handleGetCode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isGetCodeState){t.next=2;break}return t.abrupt("return");case 2:if(e.isPhone){t.next=5;break}return alert("请确定手机号码是否正确!"),t.abrupt("return");case 5:Object(r["a"])({url:"/admin/captcha",method:"post",params:{mobile:e.ruleForm.phoneMsg,type:"register_code"}},(function(t){!0===t.data&&(e.$message.success("验证码发送成功"),e.handelCountdown())}));case 6:case"end":return t.stop()}}),t)})))()},handelCountdown:function(){var e=this;this.codeText="".concat(this.Countdown,"s后重新获取"),this.isGetCodeState=!1,this.timer=setInterval((function(){e.Countdown-=1,e.codeText="".concat(e.Countdown,"s后重新获取"),0===e.Countdown&&(e.codeText="获取验证码",e.isGetCodeState=!0,e.Countdown=60,clearInterval(e.timer))}),1e3)},skipWechat:function(){var e=this;this.isLogin=!0,this.showLoginSuccess=!0,setTimeout((function(){e.goToSignUp()}),500)},goToSignUp:function(){window.location=this.loginUrl}}},l=n,c=(s("2502"),s("cba8")),u=Object(c["a"])(l,a,o,!1,null,null,null);t["default"]=u.exports},bd65:function(e,t,s){}}]);